<!DOCTYPE html>
<html>
<head>
<script src="https://cdn.jsdelivr.net/npm/@fingerprintjs/fingerprintjs@2/dist/fingerprint2.min.js"></script>
</head>
<body>

<h1>The onclick Event</h1>

<p>The onclick event is used to trigger a function when an element is clicked on.</p>

<p>Click the button to trigger a function that will output "Hello World" in a p element with id="demo".</p>

<button onclick="toto()">Click me</button>

<p id="demo"></p>

<script>
function myFunction() {
  document.getElementById("demo").innerHTML = "Hello World";
}

var options = {fonts: {extendedJsFonts: true}}
function toto() {
if (window.requestIdleCallback) {
    requestIdleCallback(function () {
        Fingerprint2.get(options, function (components) {
          printHTML(components); console.log(components) // an array of components: {key: ..., value: ...}
        })
    })
} else {
    setTimeout(function () {
        Fingerprint2.get(options, function (components) {
          console.log(components) // an array of components: {key: ..., value: ...}
	printHTML(components);
        })  
    }, 500)
}
}


function printHTML(arrayElem) {

arrayElem.forEach(x => {
if (x.key === "fonts") {
document.getElementById("demo").innerHTML = x.value.join("<BR/>");
}
})


}

</script>

</body>
</html>


</body>
</html>
